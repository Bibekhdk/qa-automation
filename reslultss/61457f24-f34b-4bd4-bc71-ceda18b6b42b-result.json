{"name": "TS_001_01: Cancel logout then confirm logout", "status": "failed", "statusDetails": {"message": "AssertionError: Expected logout toast, got: \nassert ('' is not None and 'logged out' in '')\n +  where '' = <built-in method lower of str object at 0x561fcb8ef880>()\n +    where <built-in method lower of str object at 0x561fcb8ef880> = ''.lower", "trace": "self = <Tests.test_logoutpage.TestLogout object at 0x765dbacf4090>\ninit_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c88f1ae8a7bb60981ddae96f487e7670\")>\n\n    @allure.title(\"TS_001_01: Cancel logout then confirm logout\")\n    @allure.description(\"Login → Cancel Logout → Confirm Logout → Verify redirect and toast.\")\n    def test_logout_cancel_then_confirm(self, init_driver):\n        driver = init_driver\n        login = LoginPage(driver)\n        logout = LogoutPage(driver)\n    \n        with allure.step(\"Step 1: Login with valid credentials\"):\n            login.load()\n            login.login(\"bibek1\", \"@dmin2929A\")\n            WebDriverWait(driver, 10).until(\n                EC.url_to_be(\"https://ipn-tms-staging.koilifin.com/dashboard\")\n            )\n            assert login.is_login_successful(), \"Login not successful\"\n            allure.attach(driver.get_screenshot_as_png(), name=\"Logged In\", attachment_type=allure.attachment_type.PNG)\n    \n        with allure.step(\"Step 2: Cancel logout\"):\n            logout.click_profile_icon()\n            logout.click_logout_option()\n            logout.click_cancel_logout()\n            WebDriverWait(driver, 5).until(\n                EC.url_to_be(\"https://ipn-tms-staging.koilifin.com/dashboard\")\n            )\n            assert driver.current_url.endswith(\"/dashboard\"), \"User should stay on dashboard after cancel\"\n            allure.attach(driver.get_screenshot_as_png(), name=\"After Cancel Logout\", attachment_type=allure.attachment_type.PNG)\n    \n        with allure.step(\"Step 3: Logout and confirm\"):\n            logout.click_profile_icon()\n            logout.click_logout_option()\n            logout.click_confirm_logout()\n    \n        with allure.step(\"Step 4: Verify logout toast and redirect\"):\n            WebDriverWait(driver, 10).until(\n                EC.url_to_be(\"https://ipn-tms-staging.koilifin.com/auth\")\n            )\n            toast_msg = logout.get_toast_message()\n            allure.attach(driver.get_screenshot_as_png(), name=\"After Logout\", attachment_type=allure.attachment_type.PNG)\n    \n>           assert toast_msg is not None and \"logged out\" in toast_msg.lower(), f\"Expected logout toast, got: {toast_msg}\"\nE           AssertionError: Expected logout toast, got: \nE           assert ('' is not None and 'logged out' in '')\nE            +  where '' = <built-in method lower of str object at 0x561fcb8ef880>()\nE            +    where <built-in method lower of str object at 0x561fcb8ef880> = ''.lower\n\nTests/test_logoutpage.py:51: AssertionError"}, "description": "Login → Cancel Logout → Confirm Logout → Verify redirect and toast.", "steps": [{"name": "Step 1: Login with valid credentials", "status": "passed", "steps": [{"name": "Load login page", "status": "passed", "start": 1747654390794, "stop": 1747654392151}, {"name": "Login with username: 'bibek1', password: '@dmin2929A'", "status": "passed", "parameters": [{"name": "username", "value": "'bibek1'"}, {"name": "password", "value": "'@dmin2929A'"}], "start": 1747654392151, "stop": 1747654392625}, {"name": "Check if login is successful", "status": "passed", "start": 1747654394180, "stop": 1747654394188}], "attachments": [{"name": "Logged In", "source": "6b49348a-4557-4324-baf0-17fc2e961e1e-attachment.png", "type": "image/png"}], "start": 1747654390793, "stop": 1747654394415}, {"name": "Step 2: Cancel logout", "status": "passed", "steps": [{"name": "Click profile icon", "status": "passed", "start": 1747654394415, "stop": 1747654394596}, {"name": "Click logout option", "status": "passed", "start": 1747654394597, "stop": 1747654394721}, {"name": "Click cancel logout button", "status": "passed", "start": 1747654394722, "stop": 1747654394915}], "attachments": [{"name": "After Cancel Logout", "source": "183779c5-1ae5-4614-9b89-8038e42e90ef-attachment.png", "type": "image/png"}], "start": 1747654394415, "stop": 1747654395149}, {"name": "Step 3: Logout and confirm", "status": "passed", "steps": [{"name": "Click profile icon", "status": "passed", "start": 1747654395150, "stop": 1747654395298}, {"name": "Click logout option", "status": "passed", "start": 1747654395298, "stop": 1747654395454}, {"name": "Click confirm logout button", "status": "passed", "start": 1747654395454, "stop": 1747654395618}], "start": 1747654395150, "stop": 1747654395618}, {"name": "Step 4: Verify logout toast and redirect", "status": "failed", "statusDetails": {"message": "AssertionError: Expected logout toast, got: \nassert ('' is not None and 'logged out' in '')\n +  where '' = <built-in method lower of str object at 0x561fcb8ef880>()\n +    where <built-in method lower of str object at 0x561fcb8ef880> = ''.lower\n", "trace": "  File \"/home/bibek-hadkhale/Desktop/IPN-AUTOMATION/Tests/test_logoutpage.py\", line 51, in test_logout_cancel_then_confirm\n    assert toast_msg is not None and \"logged out\" in toast_msg.lower(), f\"Expected logout toast, got: {toast_msg}\"\n"}, "steps": [{"name": "Get logout toast message", "status": "passed", "start": 1747654396145, "stop": 1747654396177}], "attachments": [{"name": "After Logout", "source": "29c836a5-4f69-415b-bdbd-27248e7704d8-attachment.png", "type": "image/png"}], "start": 1747654395618, "stop": 1747654396379}], "parameters": [{"name": "init_driver", "value": "'chrome'"}], "start": 1747654390793, "stop": 1747654396380, "uuid": "e13152ba-d2d5-46a5-9127-d383be778d3a", "historyId": "1690f32c568bb4dda3f3af8e6a35228a", "testCaseId": "2b79b058540742bf431d33b416bc5564", "fullName": "Tests.test_logoutpage.TestLogout#test_logout_cancel_then_confirm", "labels": [{"name": "epic", "value": "IPN App"}, {"name": "feature", "value": "Logout Functionality"}, {"name": "tag", "value": "@pytest.mark.usefixtures('init_driver')"}, {"name": "parentSuite", "value": "Tests"}, {"name": "suite", "value": "test_logoutpage"}, {"name": "subSuite", "value": "TestLogout"}, {"name": "host", "value": "bibek-hadkhale-Nitro-AN515-44"}, {"name": "thread", "value": "56180-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Tests.test_logoutpage"}]}